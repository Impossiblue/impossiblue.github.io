<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Impossiblue: The secret six</title><meta name="description" content="Centering an element with CSS."><meta name="author" content="https://impossiblue.github.io"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Impossiblue"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="apple-touch-icon" sizes="152x152" href="../../touch-icon-ipad.png"><link rel="apple-touch-startup-image" media="(device-width:768px) and (device-height:1024px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait)" href="../../start-up-1536x2008.png"><link rel="apple-touch-startup-image" media="(device-width:768px) and (device-height:1024px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="../../start-up-1496x2048.png"><link rel="stylesheet" href="../../css/i.css"><!--[if lt IE 10]><link rel="stylesheet" href="../../css/ie.css"><![endif]--><style>aside::after{content:"10 March, 2021";}

.backdropStd, #backdropXtra {
	position: relative;
	width: 258px;
	height: 172px;
	background-color: #fff;
	}
.circle, #backdropXtra::after {
	position: absolute;
	top: 35px;
	left: 78px;
	width: 102px;
	height: 102px;
	border-radius: 50%;
	background-color: #900;
	}
#backdropXtra::after { content: ""; }
.backdropStd img, .son {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	}
.mother {
	position: relative;
	height: 160px;
	margin-top: 1.5em; /* For layout reasons only */
	border: 1px solid #eef5df;
	color: #eef5df;
	background-color: #475f14;
	overflow: auto; /* Vertical scrollbar when necessary */
	}
.son, .daughter {
	width: 80%;
	padding-top: 0; /* Nullifies paragraph value in main CSS */
	outline: 1px dotted red; /* Element visualization */
	}

/*	The secret six */
.daughter {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	margin: auto;
	}

form input{margin:1em auto 0;}</style></head><body><div id="ie">With geriatric Internet Explorer versions this site looks shite. This because Impossiblue is built with modern tools and would require hacks and workarounds to function in legacy browsers. I no longer have the patience nor the inclination to satisfy everybody. Impossiblue is an experiment and a playground &#8211;&#160;and my sustenance does not depend on it. As a concequence &#8211;&#160;to embarrass nobody &#8211;&#160;I have decided to lock you out. So, there.</div><div id="wrapper"><aside>56</aside><header id="masthead"><h1><a href="../../index.html">Impossiblue</a></h1></header><nav><button class="goEast" title="Menu">Open menu<div></div></button><a id="at" class="goEast" href="../../form.html" title="Contact us">Open form</a><ul>
<li class="ctgr"><b>&#9662;&#8194;</b><strong>Lorem ipsums</strong></li>
<li id="crrnt"><b>&#9656;&#8194;</b>The secret six</li>
<li><a href="../210305/index.html">CSS background &#8211; Part 1</a></li>
<li><a href="../210325/index.html">CSS background &#8211; Part 2</a></li>
<li><a href="../170505/index.html">A pure CSS modal window</a></li>
<li><a href="../170420-2/index.html"><code>box-shadow</code></a></li>
<li><a href="../170414/index.html">Putting the &#8220;Checkbox hack&#8221; to good use</a></li>
<li><a href="../170420/index.html">Greyscale</a></li>
<li><a href="../170404-2/index.html">Sepia</a></li>
<li><a href="../170404/index.html">Background gradients</a></li>
<li><a href="../170326/index.html">Pseudo-elements and the image tag</a></li>
<li><a href="../170308/index.html">Styling an HTML <code>input</code> element</a></li>
<li><a href="../150504/index.html">How to add and centre a custom iPad wallpaper</a></li>
<li><a href="../150421-2/index.html">How to make a screen dump on an iPad</a></li>
<li><a href="../150421/index.html">How to permanently delete pictures from an iPad</a></li>
<li><a href="../140502/index.html">PHP &#8211; Random image</a></li>
<li><a href="../140426/index.html">PHP &#8211; How to get the width and height of an image</a></li>
<li><a href="../140423/index.html">PHP &#8211; Random quote</a></li>
<li><a href="../140420/index.html">PHP &#8211; How to find pathnames matching a pattern</a></li>
<li><a href="../141026/index.html">How to design a close-button with CSS</a></li>
<li><a href="../140625/index.html">Film grain &#8211; Sort of</a></li>
<li><a href="../140528/index.html">Noisy canvas &#8211; Dynamic</a></li>
<li><a href="../140328/index.html">How to create a composite layer in Photoshop</a></li>
<li><a href="../140312/index.html">Noisy background &#8211; Static</a></li>
<li><a href="../100828/index.html">How to crop a movie with QuickTime Pro</a></li>
<li><a href="../060216/index.html">Gradient mosaic</a></li>
<li class="ctgr"><b>&#9662;&#8194;</b><strong>Rants and raves</strong></li>
<li><a href="../170417-2/index.html"><code>clip-path</code> &#8211; Part 2</a></li>
<li><a href="../170417/index.html"><code>clip-path</code> &#8211; Part 1</a></li>
<li><a href="../170322/index.html">Rapha&#235;l or Thinking outside the box</a></li>
<li><a href="../150907/index.html">Jan Kj√¶rstad &#8211;&#160;Storyteller</a></li>
<li><a href="../150504-2/index.html">Rain on a window pane &#8211;&#160;JavaScript simulation</a></li>
<li><a href="../170315/index.html">CSS throbbers &#8211;&#160;Part 3</a></li>
<li><a href="../150503/index.html">CSS throbbers &#8211;&#160;Part 2</a></li>
<li><a href="../150407/index.html">CSS throbbers &#8211;&#160;Part 1</a></li>
<li><a href="../150406/index.html">ResEdit and the recreation of the Mac OS wristwatch cursor animation</a></li>
<li><a href="../141108/index.html">Kaja Norum</a></li>
<li><a href="../141010/index.html">Kurt &#38; Kara <i>c</i> 1984</a></li>
<li><a href="../140627/index.html">Canvas and the Close Pixelate script</a></li>
<li><a href="../140405/index.html">Web Audio API &#8211; 1st Approach</a></li>
<li><a href="../140329/index.html">Audio visualizer &#8211; Atomic</a></li>
<li><a href="../140329/starfield.html">Audio visualizer &#8211; Star field</a></li>
<li><a href="../140323/index.html">Flash <i>in memoriam</i></a></li>
<li class="ctgr"><b>&#9662;&#8194;</b><strong>Notes to self</strong></li>
<li><a href="../150504-3/index.html">Ordnance Survey map of Great Britain</a></li>
<li><a href="../170530/index.html">Linking from SVG</a></li>
<li><a href="../170506/index.html">SVG in HTML and CSS</a></li>
<li><a href="../170429/index.html">Resize video <i>in situ</i></a></li>
<li><a href="../170425/index.html">Testing jQuery UI <code>draggable()</code></a></li>
<li><a href="../170424/index.html"><code>backdrop-filter: blur()</code></a></li>
<li><a href="../170422/index.html">Testing <code>sketch.js</code> &#8211;&#160;Particles</a></li>
<li><a href="../170404-3/index.html">Responsive images</a></li>
<li><a href="../170313/index.html">Pure CSS shapes</a></li>
<li><a href="../210308/index.html">A CSS TV-screen</a></li>
<li><a href="../170307/index.html">q</a></li>
<li><a href="../150511/index.html">xStand for iPad &#8211;&#160;The missing user manual</a></li>
<li><a href="../140628/index.html">CSS blur animation</a></li>
<li><a href="../150501/index.html">The CSS rule</a></li>
<li><a href="../170408/index.html">On forms and tables</a></li>
<li><a href="../140319/index.html">On animated cursors</a></li>
<li><a href="../150618/index.html">The concerts</a></li>
</ul></nav><article><h2>The secret six</h2><p class="drpcp">Knowing the height of an element in an HTML-document is a luxury we are seldom blessed with. Text, for instance, shrinks and expands &#8230; and changes. Consequently, centering content on a page or in a container poses problems. Clever solutions have been suggested over the years and during the evolution of CSS, our main tool for page layout. Two methods, however, I keep close to my heart, eh, web site.</p><h3>CSS3+</h3><p>Consider the Japanese flag: The rising sun is centered both horizontally and vertically inside a white rectangle. When all dimensions are known, this can be accomplished with one <code>div</code> (the circle) inside another (the backdrop)&#8230;</p>

<div class="mt15 backdropStd">
	<div class="circle"></div>
</div>

<p class="fig">Fig. 1. Centering the sun when dimensions are known. Note: The circle has been created with pure CSS, but could just as well have been an image with known dimensions. (Refer to the page source for code.)</p><p>&#8230;or with a pseudo-element (the circle) dropped on top of a parent (the backdrop):</p>

<div id="backdropXtra" class="mt15"></div>

<p class="fig">Fig. 2. The sun as a pseudo-element on a backdrop.</p><p>When new attributes were added to CSS3, arithmetic calculation methods were built in to a certain extent. This opened up possibilities when working with unknown dimensions (i.e. dimensions unknown to the web developer as per the interactions of the user of a web page).</p><p>Using the <code>transform</code> property in combination with <code>translate</code> values, it is possible to accomplish the task set above with no up front knowledge of the dimensions of the sun. (The browser can fetch them behind the scenes.)</p><p class="bq">The <code>transform</code> property lets you rotate, scale, skew, or translate an element. (<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform">MDN</a>)</p><p class="bq">The <code>translate()</code> function repositions an element in the horizontal and/or vertical directions. (<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translate()">MDN)</a></p><p>Referring to the page source code for the next example, one might argue that the dimensions are known, but they are not used in the CSS declaration. The browser does the hard work.</p>

<div class="mt15 backdropStd">
	<div class="circle"></div>
</div>

<p class="fig">Fig. 3. A CSS sun transformed.</p><p>Below is the same transform/translate combination used on an image positioned inside a <code>div</code> tag.</p>

<div class="mt15 backdropStd">
	<img src="sun.png">
</div>

<p class="fig">Fig. 4. A sun image transformed.</p><p>The bare-bones code to make it happen:</p><pre><code class="html">&lt;div&gt;
	&lt;img src="..."&gt;
&lt;/div&gt;</code></pre><pre><code class="css">div { position: relative; }
img {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	}</code></pre><p>This works equally well for textual content:</p>

<div class="mother">
	<p class="son">&#8220;HAL 9000 represents the dehumanizing nature of our pursuit of technological advancement for the sake of technological advancement.&#8221;<br>&#8211; Jeffrey Peters (2017)</p>
</div>

<p class="bq">Limitation: Only transformable elements can be <code>transform</code>ed. That is, all elements whose layout is governed by the CSS box model except for: non-replaced inline boxes, table-column boxes, and table-column-group boxes. (<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform">MDN</a>)</p><h3>Scatter to the four winds</h3><p>Prior to CSS3, non-semantic hacks were often employed to center elements. Another method, though not universally known, is easy to remember and still functional (except for one small problem). It goes like this:</p><pre><code class="html">&lt;div class="mother"&gt;
	&lt;div class="daughter"&gt;...&lt;/div&gt;
&lt;/div&gt;</code></pre>
<pre><code>.mother { position: relative; }

/*	The secret six */
.daughter {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	margin: auto;
	}</code></pre><p>This is not a hack. Really! It is only a little discomforting; not playing exactly by the rules. The inner element is told to go both north, east, south, and west. Only the margin property can let the browser (sort of) satisfy all the directions equally. I call it <strong>The secret six</strong>.</p><p>Now, the problem mentioned rears its head with text, visualized with a dotted outline below:</p>

<div class="mother">
	<p class="daughter">&#8220;HAL 9000 represents the dehumanizing nature of our pursuit of technological advancement for the sake of technological advancement.&#8221;<br>&#8211; Jeffrey Peters (2017)</p>
</div>

<p>The text insists on full height, no vertical margins. This is actually the browser playing by the rules. <code>margin: auto</code> is useful for horizontal centering, but has no effect vertically. There really is no excuse for hacking a solution like vertical-align-middle in paragraphs displayed as table cells and whatnot. It would be like walking backwards into the future. CSS has moved on and we should hurry after. In this use case, <code>transform</code> rules. I still could not forget my six friends, however, so more for historical reasons, below is a link to a full-blown demo page with an image. Play with the width and height of the browser window.</p><form action="demo.html"><input type="submit" value="The secret six"></form></article><footer class="cL cntr">Impossiblue &#169; Bj√∏rn Sortland</footer><noscript class="cntr">This site is shite without JavaScript</noscript></div><script src="https://code.jquery.com/jquery-2.2.4.min.js"></script><script>window.jQuery || document.write('<script src="../../js/jquery.min.js"><\/script>')</script><script src="../../js/highlight.pack.js"></script><script>var pseudo=true;$("nav button").click(function(){$("nav ul").toggle("fast");if(pseudo===true){$("nav button").addClass("noPseudo");pseudo=false;}else{$("nav button").removeClass("noPseudo");pseudo=true;}$("nav button div").toggle("fast");});$("pre code").each(function(i,block){hljs.highlightBlock(block);});</script></body></html>