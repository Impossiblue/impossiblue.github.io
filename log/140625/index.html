<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Impossiblue: Film grain - Sort of</title><meta name="description" content="How to make digital photographs look more like they were shot and developed on film. Simulation of film grain emulsion."><meta name="author" content="https://impossiblue.github.io"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Impossiblue"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="apple-touch-icon" sizes="152x152" href="../../touch-icon-ipad.png"><link rel="apple-touch-startup-image" media="(device-width:768px) and (device-height:1024px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait)" href="../../start-up-1536x2008.png"><link rel="apple-touch-startup-image" media="(device-width:768px) and (device-height:1024px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="../../start-up-1496x2048.png"><link rel="stylesheet" href="../../css/i.css"><!--[if lt IE 10]><link rel="stylesheet" href="../../css/ie.css"><![endif]--><style>aside::after{content:"5 March, 2017";}h2+p{color:rgba(0,0,0,.24);}input[type="button"]{width:3em;margin:12px 0 0 12px;padding:.7em 0 .5em;}#cnclsn{position:relative;width:260px;height:620px;margin-top:1.5em;border:1px solid #eef5df;}#m0,#m1,#m2a,#m2b,#m3a,#m3b,#m4,#m5,#bttns{position:absolute;top:0;left:0;}#m0,#m1,#m2a,#m2b,#m3a,#m3b,#m4,#m5,.bckdrp,#noise{width:100%;height:100%;}.bckdrp{background-position:36% 0;}#m0{z-index:8;}#m0 .bckdrp{background-image:url("i0.jpg");}#m1{z-index:1;}#m1 .bckdrp{background-image:url("i2a.jpg");}#m2a{z-index:2;}#m2a .bckdrp{background-image:url("i2a.jpg");}#m2b{z-index:3;}#m2b .bckdrp{background-image:url("i2b.jpg");}#m3a{z-index:4;}#m3a .bckdrp{background-image:url("i3a.jpg");}#m3b{z-index:5;}#m3b .bckdrp{background-image:url("i3b.jpg");}#m4{z-index:6;}#m4 .bckdrp{background-image:url("i4.jpg");}#m5{z-index:7;}#m5 .bckdrp{background-image:url("i5.jpg");}#m0 p,#m1 p,#m2a p,#m2b p,#m3a p,#m3b p,#m4 p,#m5 p{position:absolute;bottom:12px;left:12px;width:auto;margin-right:12px;padding:8px 12px;background-color:rgba(238,245,223,.85);}#bttns{z-index:999;}@media only screen and (min-width:450px) and (max-width:589px){#cnclsn{width:400px;}}@media only screen and (min-width:590px) and (max-width:729px){#cnclsn{width:540px;}}@media only screen and (min-width:730px) and (max-width:869px){#cnclsn{width:680px;}}@media only screen and (min-width:870px) and (max-width:997px){#cnclsn{width:820px;}}@media only screen and (min-width:998px){#cnclsn{width:960px;}}</style></head><body><div id="ie">With geriatric Internet Explorer versions this site looks shite. This because Impossiblue is built with modern tools and would require hacks and workarounds to function in legacy browsers. I no longer have the patience nor the inclination to satisfy everybody. Impossiblue is an experiment and a playground &#8211;&#160;and my sustenance does not depend on it. As a concequence &#8211;&#160;to embarrass nobody &#8211;&#160;I have decided to lock you out. So, there.</div><div id="wrapper"><aside>11</aside><header id="masthead"><h1><a href="../../index.html">Impossiblue</a></h1></header><nav><button class="goEast" title="Menu">Open menu<div></div></button><a id="at" class="goEast" href="../../form.html" title="Contact us">Open form</a><ul>
<li class="ctgr"><b>&#9662;&#8194;</b><strong>Lorem ipsums</strong></li>
<li><a href="../210305/index.html">CSS background &#8211; Part 1</a></li>
<li><a href="../170505/index.html">A pure CSS modal window</a></li>
<li><a href="../170420-2/index.html"><code>box-shadow</code></a></li>
<li><a href="../170414/index.html">Putting the &#8220;Checkbox hack&#8221; to good use</a></li>
<li><a href="../170420/index.html">Greyscale</a></li>
<li><a href="../170404-2/index.html">Sepia</a></li>
<li><a href="../170404/index.html">Background gradients</a></li>
<li><a href="../170326/index.html">Pseudo-elements and the image tag</a></li>
<li><a href="../170308/index.html">Styling an HTML <code>input</code> element</a></li>
<li><a href="../150504/index.html">How to add and centre a custom iPad wallpaper</a></li>
<li><a href="../150421-2/index.html">How to make a screen dump on an iPad</a></li>
<li><a href="../150421/index.html">How to permanently delete pictures from an iPad</a></li>
<li><a href="../140502/index.html">PHP &#8211; Random image</a></li>
<li><a href="../140426/index.html">PHP &#8211; How to get the width and height of an image</a></li>
<li><a href="../140423/index.html">PHP &#8211; Random quote</a></li>
<li><a href="../140420/index.html">PHP &#8211; How to find pathnames matching a pattern</a></li>
<li><a href="../141026/index.html">How to design a close-button with CSS</a></li>
<li id="crrnt"><b>&#9656;&#8194;</b>Film grain &#8211; Sort of</li>
<li><a href="../140528/index.html">Noisy canvas &#8211; Dynamic</a></li>
<li><a href="../140328/index.html">How to create a composite layer in Photoshop</a></li>
<li><a href="../140312/index.html">Noisy background &#8211; Static</a></li>
<li><a href="../100828/index.html">How to crop a movie with QuickTime Pro</a></li>
<li><a href="../060216/index.html">Gradient mosaic</a></li>
<li class="ctgr"><b>&#9662;&#8194;</b><strong>Rants and raves</strong></li>
<li><a href="../170417-2/index.html"><code>clip-path</code> &#8211; Part 2</a></li>
<li><a href="../170417/index.html"><code>clip-path</code> &#8211; Part 1</a></li>
<li><a href="../170322/index.html">Rapha&#235;l or Thinking outside the box</a></li>
<li><a href="../150907/index.html">Jan Kj√¶rstad &#8211;&#160;Storyteller</a></li>
<li><a href="../150504-2/index.html">Rain on a window pane &#8211;&#160;JavaScript simulation</a></li>
<li><a href="../170315/index.html">CSS throbbers &#8211;&#160;Part 3</a></li>
<li><a href="../150503/index.html">CSS throbbers &#8211;&#160;Part 2</a></li>
<li><a href="../150407/index.html">CSS throbbers &#8211;&#160;Part 1</a></li>
<li><a href="../150406/index.html">ResEdit and the recreation of the Mac OS wristwatch cursor animation</a></li>
<li><a href="../141108/index.html">Kaja Norum</a></li>
<li><a href="../141010/index.html">Kurt &#38; Kara <i>c</i> 1984</a></li>
<li><a href="../140627/index.html">Canvas and the Close Pixelate script</a></li>
<li><a href="../140405/index.html">Web Audio API &#8211; 1st Approach</a></li>
<li><a href="../140329/index.html">Audio visualizer &#8211; Atomic</a></li>
<li><a href="../140329/starfield.html">Audio visualizer &#8211; Star field</a></li>
<li><a href="../140323/index.html">Flash <i>in memoriam</i></a></li>
<li class="ctgr"><b>&#9662;&#8194;</b><strong>Notes to self</strong></li>
<li><a href="../150504-3/index.html">Ordnance Survey map of Great Britain</a></li>
<li><a href="../170530/index.html">Linking from SVG</a></li>
<li><a href="../170506/index.html">SVG in HTML and CSS</a></li>
<li><a href="../170429/index.html">Resize video <i>in situ</i></a></li>
<li><a href="../170425/index.html">Testing jQuery UI <code>draggable()</code></a></li>
<li><a href="../170424/index.html"><code>backdrop-filter: blur()</code></a></li>
<li><a href="../170422/index.html">Testing <code>sketch.js</code> &#8211;&#160;Particles</a></li>
<li><a href="../170404-3/index.html">Responsive images</a></li>
<li><a href="../170313/index.html">Pure CSS shapes</a></li>
<li><a href="../170307/index.html">q</a></li>
<li><a href="../150511/index.html">xStand for iPad &#8211;&#160;The missing user manual</a></li>
<li><a href="../140628/index.html">CSS blur animation</a></li>
<li><a href="../150501/index.html">The CSS rule</a></li>
<li><a href="../170408/index.html">On forms and tables</a></li>
<li><a href="../140319/index.html">On animated cursors</a></li>
<li><a href="../150618/index.html">The concerts</a></li>
</ul></nav><article><h2>Film grain &#8211; Sort of</h2><p>First published on Ka of Isis 140625</p><p class="drpcp">This project was doomed from the outset. I mean, attempting to simulate film grain with JavaScript? Hello? Anybody who has grown up with a Pentax Spotmatic, Tri-X and a bathroom turned darkroom knows that silicon can never replace silver. But I had to try, based on <a href="../140528/index.html">earlier attempts</a> at creating noise programmatically. The fact that I ended up testing different methods of adding grain to images, only proves that I will not only step down when defeated but also that the experimental darkroom days are deeply ingrained (pun intended). And, yes, keep in mind that I am only interested in grain on black and white images here. I <em>did</em> mention Tri-X, did I not?</p><p>To prevent the impatient visitor from leaving this page on first sight, I present a visual conclusion up front and refer to the wordy tongue-in-cheek description of methods further down. Use the buttons <code>0&#8211;5</code> to toggle between the various images, with or without grain, and observe the different comments below each image.</p><div id="cnclsn"><div id="m0"><div class="bckdrp"></div><p class="fig">Fig. The original image has been slightly cropped in Photoshop and saved at 72&#160;ppi for web and devices with a JPEG quality-setting of 51. It is shown here for reference only.</p></div><div id="m1"><div class="bckdrp"><div id="noise"></div></div><p class="fig">Fig. Method 1 &#8211;&#160;If you see no grain in the picture, your browser probably does not support the <code>canvas</code> element. The backdrop for the grain is the default black and white image generated by the TrueGrain method (button <code>2a</code>).</p></div><div id="m2a"><div class="bckdrp"></div><p class="fig">Fig. Method 2 &#8211;&#160;Black and white version with TrueGrain not yet enabled. The image has been saved at 72&#160;ppi for web and devices with a JPEG quality-setting of 100.</p></div><div id="m2b"><div class="bckdrp"></div><p class="fig">Fig. Method 2 &#8211;&#160;TrueGrain enabled. The image has been saved at 72&#160;ppi for web and devices with a JPEG quality-setting of 100.</p></div><div id="m3a"><div class="bckdrp"></div><p class="fig">Fig. Method 3 &#8211;&#160;A default black and white version of the original photograph, with no grain enabled. The image has been saved at 72&#160;ppi for web and devices with a JPEG quality-setting of 100.</p></div><div id="m3b"><div class="bckdrp"></div><p class="fig">Fig. Method 3 &#8211;&#160;&#8216;Grainsnap&#8217; enabled. The image has been saved at 72&#160;ppi for web and devices with a JPEG quality-setting of 100.</p></div><div id="m4"><div class="bckdrp"></div><p class="fig">Fig. Method 4 &#8211;&#160;&#8216;Red Wing Digital&#8217; grain enabled on the same default black and white image used in Method&#160;3. The resulting image has been saved at 72&#160;ppi for web and devices with a JPEG quality-setting of 100.</p></div><div id="m5"><div class="bckdrp"></div><p class="fig">Fig. Method 5 &#8211;&#160;Pure, coarse Photoshop grain enabled on the same default black and white image used in Method&#160;3. The resulting image has been saved at 72&#160;ppi for web and devices with a JPEG quality-setting of 100.</p></div><div id="bttns"><input id="b0" type="button" value="0" title="The original reference image"><input id="b1" type="button" value="1" title="Method 1 - JavaScript and the canvas element"><input id="b2a" type="button" value="2a" title="Method 2 - Black and white image; TrueGrain not enabled"><input id="b2b" type="button" value="2b" title="Method 2 - Grubba Software's TrueGrain enabled"><input id="b3a" type="button" value="3a" title="Method 3 - Default Photoshop black & white image; no grain enabled"><input id="b3b" type="button" value="3b" title="Method 3 - Grainsnap's grain enabled"><input id="b4" type="button" value="4" title="Method 4 - Red Wing Digital's grain enabled"><input id="b5" type="button" value="5" title="Method 5 - Pure, coarse Photoshop grain"></div></div><p class="fig">Fig. The strikingly beautiful original image used in these experiments &#8211;&#160;RGB 1024x678&#160;px 240&#160;ppi JPG &#8211;&#160;was published by <a href="https://www.flickr.com/search/?q=geishaboy500">geishaboy500</a> on Flickr and is used under a <a href="https://creativecommons.org/licenses/by/2.0/">Creative Commons Attribution 2.0 Generic license</a>.</p><h3>Method 1 &#8211;&#160;JavaScript and the <code>canvas</code> element</h3><p>Please refer to the article <a href="../140312/index.html"><i>Noisy background &#8211;&#160;Static</i></a> for my inspiration and take a look at the page source for technical details.</p><p>Even at this early stage I knew that the battle was lost. There is no subtleness in the details of the &#8216;grain&#8217;, just a bunch of randomly spattered dots on the canvas. One plays with the JavaScript settings to no avail. Adding insult to injury, the computer-generated noise is processor taxing. Combine a large intensity setting and a large image, and the browser may very well crash.</p><h3>Method 2 &#8211;&#160;TrueGrain</h3><p>TrueGrain from <a href="http://grubbasoftware.com/filmlibrary_trixpan.html">Grubba Software</a> is a commercial application which uses a grain library to &#8216;accurately&#8217; simulate black and white film emulsions for digital photography &#8211;&#160;very much of interest to photographers whose photographs end up on the printing press. Combinations of film stock &#8211;&#160;say, <i>Ilford FP4 Plus</i>, film grain &#8211;&#160;say, <i>110 17mmx13mm</i>, and filter profile &#8211;&#160;say, <i>Wratten 21 Orange</i>, are possible, and further tweaking can yield unique results.</p><p>For this exercise a <i>Kodak Pan 400 120</i> film type with <i>135 36mmx24mm</i> grain, no filter, was tested on the software&#8217;s default black and white rendering of the original image.</p><h3>Method 3 &#8211;&#160;www.grainsnap.com</h3><p>1. Download <a href="http://grainsnap.com/free-grain-here/">free grain images</a> &#8211;&#160;1500x994&#160;px 72&#160;ppi &#8211;&#160;from <a href="http://grainsnap.com/">Grainsnap</a>.</p><p>2. In Photoshop, open the original image (the one that is to be manipulated).</p><p>3. Crop to final dimensions, in this case 960x620&#160;px. Keep resolution.</p><p>4. Jump-copy the background layer and make the background layer invisible (this is a working habit, not a necessity).</p><p>5. To &#8216;convert&#8217; the RGB image non-destructively to black and white, go:</p><p><code>Layer &#62; New Adjustment Layer &#62; Black &#38; White&#8230;</code></p><p>In the <code>New Layer</code> dialogue window, mark <code>Use Previous Layer to Create Clipping Mask</code>.</p><p>Alternatively, click on the <code>Create New Fill or Adjustment Layer</code> button in the bottom of the <code>Layers</code> panel and choose <code>Black &#38; White&#8230;</code>. Then <code>Alt-click</code> on the border between the newly created layer and the black and white layer below it to create a clipping mask.</p><p>6. If needed, adjust the grayscale image with the sliders in the <code>Adjustments</code> panel. For this exercise, the default settings were kept.</p><p>7. To simulate 35&#160;mm film grain, first open Grainsnap&#8217;s free <i>400-ISO-GRAINSNAP.jpg</i> image, then, with Photoshop&#8217;s <code>Move Tool</code>, shift-drag the grain from this image onto a new layer above the adjustment layer in the original image.</p><p>An alternative to the drag and drop technique, is to go:</p><p><code>File &#62; Place&#8230;</code></p><p>and place the contents of <i>400-ISO-GRAINSNAP.jpg</i> as a <i>Smart Object</i> above the adjustment layer in the original image. The downside to this method is that Photoshop may already suggest a resizing of the placed image.</p><p>Depending on size differences between the images, it may be necessary to scale the grain in the newly created grain layer. Note, however, that this will resize the grain &#8216;particles&#8217; and ultimately influence the grainy look of the final image. Additional blurring/sharpening of the grain layer will also yield different results.</p><p>In this example, the drag and drop method was employed, and the grain completely covered the original image &#8211;&#160;with grain to spare. I did not want to experiment with smaller or larger grain particles, so no resizing was done.</p><p>8. In the <code>Layers</code> panel, change the blending mode for the grain layer from <code>Normal</code> to <code>Overlay</code>.</p><p>9. <code>Layer &#62; New Adjustment Layer &#62; Brightness/Contrast&#8230;</code></p><p>In the <code>New Layer</code> dialogue window, mark <code>Use Previous Layer to Create Clipping Mask</code>.</p><p>Or follow the alternate procedure described in step 4.</p><p>10. Raising the <code>Contrast</code> slider in the <code>Adjustments</code> layer increases the grain visibility. Lowering the contrast makes the grain more subtle. For this test, contrast was set to a value of <code>66</code> and <code>Use Legacy</code> was kept.</p><img class="b0" src="l3.png" alt="Screendump"><p class="fig">Fig. Method 3 &#8211; The final <code>Layers</code> panel.</p><h3>Method 4 &#8211;&#160;www.redwingdigital.com</h3><p>This method echoes Method&#160;3 almost to the letter. The only differences are the grain image itself and a contrast value of <code>-12</code>.</p><p>Red Wing Digital offers <a href="http://www.redwingdigital.com/bully-pulpit/film_grain/">two grain images</a>, one to simulate Kodak Tri-X 1600 film and one to simulate Kodak T-Max 3200. Both images are actual scans of an 18% gray reference card shot with these black &#38; white films. The former was tested for this article.</p><p>John Becker of Red Wing Digital suggests a simple grayscale conversion or desaturation of any original colour image, but I prefer the non-destructive method outlined in Method&#160;3, Step&#160;5.</p><img class="b0" src="l4.png" alt="Screendump"><p class="fig">Fig. Method 4 &#8211; The final <code>Layers</code> panel.</p><h3>Method 5 &#8211;&#160;www.photoshoptutorials.ws</h3><p>This more or less parrots a prescription in the article <a href="http://www.photoshoptutorials.ws/photoshop-tutorials/photo-effects/natural-film-grain/"><i>Natural Film Grain</i></a> on the Photoshop tutorials web site. A few steps have been added, however, to allow for non-destructive addition of filters.</p><p>1. Complete steps 2 through 6 as described above in Method&#160;3.</p><p>2. Create a new layer above the adjustment layer and rename the new layer <code>Grain base</code>.</p><p>3. Hit a <code>Shift-Delete</code> key combination, or go <code>Edit &#62;&#160;Fill&#8230;</code>, to bring up the <code>Fill</code> dialogue window.</p><p>For <code>Contents</code>, use <code>50% Gray</code>.</p><img class="b0" src="fll.png" alt="Screendump"><p class="fig">Fig. Method 5 &#8211; The <code>Fill</code> dialogue window.</p><p>4. Convert the layer to a <i>Smart Object</i>.</p><p><code>5. Filter &#62;&#160;Noise &#62;&#160;Add Noise&#8230;</code></p><p>Try the following parameters in the <code>Add Noise</code> dialogue window:</p><img class="b0" src="ns.png" alt="Screendump"><p class="fig">Fig. Method 5 &#8211; The <code>Add Noise</code> dialogue window.</p><p>Note that a non-destructive <code>Smart Filters</code> sub-layer has been added to the <code>Base grain</code> layer.</p><p>6. Still with <code>Base grain</code> the active layer, go:</p><p><code>Filter &#62;&#160;Blur &#62;&#160;Gaussian Blur&#8230;</code></p><p>Try the following radius in the <code>Gaussian Blur</code> dialogue window:</p><img class="b0" src="gb.png" alt="Screendump"><p class="fig">Fig. Method 5 &#8211; The <code>Gaussian Blur</code> dialogue window.</p><p>Note that such a low blur value will produce a rather coarse grain and is tested purposely here.</p><p>7. Change the blending mode for the <code>Base grain</code> layer from <code>Normal</code> to <code>Overlay</code>.</p><p>8. Reduce the opacity of the layer from 100% to 24%.</p><img class="b0" src="l5.png" alt="Screendump"><p class="fig">Fig. Method 5 &#8211; The final <code>Layers</code> panel.</p><p>9. Retrace the steps and tweak settings for opacity and/or smart filters to suit your needs or ego.</p><p><strong>Notes: </strong>This article never set out to compare methods, only to show available alternatives. Neither has much effort been invested in optimizing settings for a &#8216;perfect&#8217; end result. Already the grayscale images resulting from using default settings in both the TrueGrain app (button <code>2a</code>) and in Photoshop (button <code>3a</code>), yield quite different images even before simulated film grain is added. TrueGrain is dedicated to black and white images while &#8216;Grainsnap&#8217;, for instance, is equally comfortable with RGB or CMYK. The final black and white images have been saved with the ridiculously high JPEG setting of 100 only so that compression should not influence on the visual results. Much as I would have preferred the TIF-format, few browsers support it these days. To compensate for prolonged loading times, JavaScript preloading has been employed. And, yes, neither of the images presented have been optimized for retina screens or anything beyond &#8220;standard&#8221; resolution, thus resulting in a blurring that effectively kills subtle differences in grain.</p></article><footer class="cL cntr">Impossiblue &#169; Bj√∏rn Sortland</footer><noscript class="cntr">This site is shite without JavaScript</noscript></div><script src="https://code.jquery.com/jquery-2.2.4.min.js"></script><script>window.jQuery || document.write('<script src="../../js/jquery.min.js"><\/script>')</script><script src="../../js/noisy.koi.js"></script><script>var pseudo=true;$("nav button").click(function(){$("nav ul").toggle("fast");if(pseudo===true){$("nav button").addClass("noPseudo");pseudo=false;}else{$("nav button").removeClass("noPseudo");pseudo=true;}$("nav button div").toggle("fast");});$("#noise").noisy({intensity:1,size:260,opacity:.1,monochrome:true});var z=9;$("#b0").on("click",function(){z=z+1;$("#m0").css("zIndex",z);});$("#b1").on("click",function(){z=z+1;$("#m1").css("zIndex",z);});$("#b2a").on("click",function(){z=z+1;$("#m2a").css("zIndex",z);});$("#b2b").on("click",function(){z=z+1;$("#m2b").css("zIndex",z);});$("#b3a").on("click",function(){z=z+1;$("#m3a").css("zIndex",z);});$("#b3b").on("click",function(){z=z+1;$("#m3b").css("zIndex",z);});$("#b4").on("click",function(){z=z+1;$("#m4").css("zIndex",z);});$("#b5").on("click",function(){z=z+1;$("#m5").css("zIndex",z);});var preloaded=new Array();function prld(){for(var i=0;i<arguments.length;i++){preloaded[i]=document.createElement("img");preloaded[i].setAttribute("src",arguments[i]);};};prld("i2a.jpg","i2b.jpg","i3a.jpg","i3b.jpg","i4.jpg","i5.jpg");</script></body></html>