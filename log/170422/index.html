<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Impossiblue: Testing 'sketch.js' - Particles</title><meta name="description" content="Testing Justin Windle's inventive 'sketch.js' JavaScript framework."><meta name="author" content="https://impossiblue.github.io"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Impossiblue"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="apple-touch-icon" sizes="152x152" href="../../touch-icon-ipad.png"><link rel="apple-touch-startup-image" media="(device-width:768px) and (device-height:1024px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait)" href="../../start-up-1536x2008.png"><link rel="apple-touch-startup-image" media="(device-width:768px) and (device-height:1024px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="../../start-up-1496x2048.png"><link rel="stylesheet" href="../../css/i.css"><!--[if lt IE 10]><link rel="stylesheet" href="../../css/ie.css"><![endif]--><style>aside::after{content:"22 April, 2017";}

#particles {
	width: 100%;
	height: 320px;
	margin-top: 1.5em; /* FPO */
	border: 1px solid #eef5df;
	background-color: #222;
	overflow: hidden;
	}

h3+p { display: none; }</style></head><body><div id="ie">With geriatric Internet Explorer versions this site looks shite. This because Impossiblue is built with modern tools and would require hacks and workarounds to function in legacy browsers. I no longer have the patience nor the inclination to satisfy everybody. Impossiblue is an experiment and a playground &#8211;&#160;and my sustenance does not depend on it. As a concequence &#8211;&#160;to embarrass nobody &#8211;&#160;I have decided to lock you out. So, there.</div><div id="wrapper"><aside>47</aside><header id="masthead"><h1><a href="../../index.html">Impossiblue</a></h1></header><nav><button class="goEast" title="Menu">Open menu<div></div></button><a id="at" class="goEast" href="../../form.html" title="Contact us">Open form</a><ul>
<li class="ctgr"><b>&#9662;&#8194;</b><strong>Lorem ipsums</strong></li>
<li><a href="../210310/index.html">The secret six</a></li>
<li><a href="../210305/index.html">CSS background &#8211; Part 1</a></li>
<li><a href="../170505/index.html">A pure CSS modal window</a></li>
<li><a href="../170420-2/index.html"><code>box-shadow</code></a></li>
<li><a href="../170414/index.html">Putting the &#8220;Checkbox hack&#8221; to good use</a></li>
<li><a href="../170420/index.html">Greyscale</a></li>
<li><a href="../170404-2/index.html">Sepia</a></li>
<li><a href="../170404/index.html">Background gradients</a></li>
<li><a href="../170326/index.html">Pseudo-elements and the image tag</a></li>
<li><a href="../170308/index.html">Styling an HTML <code>input</code> element</a></li>
<li><a href="../150504/index.html">How to add and centre a custom iPad wallpaper</a></li>
<li><a href="../150421-2/index.html">How to make a screen dump on an iPad</a></li>
<li><a href="../150421/index.html">How to permanently delete pictures from an iPad</a></li>
<li><a href="../140502/index.html">PHP &#8211; Random image</a></li>
<li><a href="../140426/index.html">PHP &#8211; How to get the width and height of an image</a></li>
<li><a href="../140423/index.html">PHP &#8211; Random quote</a></li>
<li><a href="../140420/index.html">PHP &#8211; How to find pathnames matching a pattern</a></li>
<li><a href="../141026/index.html">How to design a close-button with CSS</a></li>
<li><a href="../140625/index.html">Film grain &#8211; Sort of</a></li>
<li><a href="../140528/index.html">Noisy canvas &#8211; Dynamic</a></li>
<li><a href="../140328/index.html">How to create a composite layer in Photoshop</a></li>
<li><a href="../140312/index.html">Noisy background &#8211; Static</a></li>
<li><a href="../100828/index.html">How to crop a movie with QuickTime Pro</a></li>
<li><a href="../060216/index.html">Gradient mosaic</a></li>
<li class="ctgr"><b>&#9662;&#8194;</b><strong>Rants and raves</strong></li>
<li><a href="../170417-2/index.html"><code>clip-path</code> &#8211; Part 2</a></li>
<li><a href="../170417/index.html"><code>clip-path</code> &#8211; Part 1</a></li>
<li><a href="../170322/index.html">Rapha&#235;l or Thinking outside the box</a></li>
<li><a href="../150907/index.html">Jan Kjærstad &#8211;&#160;Storyteller</a></li>
<li><a href="../150504-2/index.html">Rain on a window pane &#8211;&#160;JavaScript simulation</a></li>
<li><a href="../170315/index.html">CSS throbbers &#8211;&#160;Part 3</a></li>
<li><a href="../150503/index.html">CSS throbbers &#8211;&#160;Part 2</a></li>
<li><a href="../150407/index.html">CSS throbbers &#8211;&#160;Part 1</a></li>
<li><a href="../150406/index.html">ResEdit and the recreation of the Mac OS wristwatch cursor animation</a></li>
<li><a href="../141108/index.html">Kaja Norum</a></li>
<li><a href="../141010/index.html">Kurt &#38; Kara <i>c</i> 1984</a></li>
<li><a href="../140627/index.html">Canvas and the Close Pixelate script</a></li>
<li><a href="../140405/index.html">Web Audio API &#8211; 1st Approach</a></li>
<li><a href="../140329/index.html">Audio visualizer &#8211; Atomic</a></li>
<li><a href="../140329/starfield.html">Audio visualizer &#8211; Star field</a></li>
<li><a href="../140323/index.html">Flash <i>in memoriam</i></a></li>
<li class="ctgr"><b>&#9662;&#8194;</b><strong>Notes to self</strong></li>
<li><a href="../150504-3/index.html">Ordnance Survey map of Great Britain</a></li>
<li><a href="../170530/index.html">Linking from SVG</a></li>
<li><a href="../170506/index.html">SVG in HTML and CSS</a></li>
<li><a href="../170429/index.html">Resize video <i>in situ</i></a></li>
<li><a href="../170425/index.html">Testing jQuery UI <code>draggable()</code></a></li>
<li><a href="../170424/index.html"><code>backdrop-filter: blur()</code></a></li>
<li id="crrnt"><b>&#9656;&#8194;</b>Testing <code>sketch.js</code> &#8211;&#160;Particles</li>
<li><a href="../170404-3/index.html">Responsive images</a></li>
<li><a href="../170313/index.html">Pure CSS shapes</a></li>
<li><a href="../210308/index.html">A CSS TV-screen</a></li>
<li><a href="../170307/index.html">q</a></li>
<li><a href="../150511/index.html">xStand for iPad &#8211;&#160;The missing user manual</a></li>
<li><a href="../140628/index.html">CSS blur animation</a></li>
<li><a href="../150501/index.html">The CSS rule</a></li>
<li><a href="../170408/index.html">On forms and tables</a></li>
<li><a href="../140319/index.html">On animated cursors</a></li>
<li><a href="../150618/index.html">The concerts</a></li>
</ul></nav><article><h2>Testing <code>sketch.js</code> &#8211;&#160;Particles</h2>

<div id="particles"></div>

<p class="fig">Interact with the black void to create colourful particles. The script can also be used to good effect on the <span class="sbi">body</span> element.</p><h3><a href="#">Disclaimer</a></h3><p>I take absolutely no credit for the particle script used in this article. It is really only a test for my eyes only and I give it all to Justin Windle, aka soulwire, and his imaginative <a href="https://github.com/soulwire/sketch.js">Sketch</a> JavaScript framework.</p></article><footer class="cntr">Impossiblue &#169; Bjørn Sortland</footer><noscript class="cntr">This site is shite without JavaScript</noscript></div><script src="https://code.jquery.com/jquery-2.2.4.min.js"></script><script>window.jQuery || document.write('<script src="../../js/jquery.min.js"><\/script>')</script><script src="../../js/sketch.min.js"></script><script>var pseudo=true;$("nav button").click(function(){$("nav ul").toggle("fast");if(pseudo===true){$("nav button").addClass("noPseudo");pseudo=false;}else{$("nav button").removeClass("noPseudo");pseudo=true;}$("nav button div").toggle("fast");});
//	START Disclaimer
$("h3").click(function(){$("h3+p").toggle("fast")});
//	END Disclaimer

//	START Particles - Slightly modified

function Particle(x,y,radius){this.init(x,y,radius);}

Particle.prototype = {
	init: function(x,y,radius){
		this.alive = true;
		this.radius = radius || 10;
		this.wander = .15;
		this.theta = random(TWO_PI);
		this.drag = .92;
		this.color = "#fff";
		this.x = x || 0;
		this.y = y || 0;
		this.vx = 0;
		this.vy = 0;
	},
	move: function(){
		this.x += this.vx;
		this.y += this.vy;
		this.vx *= this.drag;
		this.vy *= this.drag;
		this.theta += random(-.5,.5) * this.wander;
		this.vx += sin(this.theta) * .1;
		this.vy += cos(this.theta) * .1;
		this.radius *= .96;
		this.alive = this.radius > .5;
	},
	draw: function(ctx){
		ctx.beginPath();
		ctx.arc(this.x,this.y,this.radius,0,TWO_PI);
		ctx.fillStyle = this.color;
		ctx.fill();
	}
};

//	Particle example

var MAX_PARTICLES = 280;
var COLOURS = ["#69d2e7","#a7dbd8","#e0e4cc","#f38630","#fa6900","#ff4e50","#f9d423"];
var particles = [];
var pool = [];
var demo = Sketch.create({
	container: document.getElementById("particles"),
	retina: "auto"
});
demo.setup = function(){
	// Set off some initial particles
	var i,x,y;
	for(i = 0; i < 20; i++){
		x = (demo.width * .5) + random(-100,100);
		y = (demo.height * .5) + random(-100,100);
		demo.spawn(x,y);
	}
};
demo.spawn = function(x,y){
	var particle,theta,force;
	if(particles.length >= MAX_PARTICLES)
	pool.push(particles.shift());
	particle = pool.length ? pool.pop() : new Particle();
	particle.init(x,y,random(5,40));
	particle.wander = random(.5,2);
	particle.color = random(COLOURS);
	particle.drag = random(.9,.99);
	theta = random(TWO_PI);
	force = random(2,8);
	particle.vx = sin(theta) * force;
	particle.vy = cos(theta) * force;
	particles.push(particle);
	};
demo.update = function(){
	var i,particle;
	for(i = particles.length - 1; i >= 0; i--){
		particle = particles[i];
		if(particle.alive)particle.move();
		else pool.push(particles.splice(i,1)[0]);
	}
};
demo.draw = function(){
	demo.globalCompositeOperation  = "lighter";
	for(var i = particles.length - 1; i >= 0; i--){
		particles[i].draw(demo);
	}
};
demo.mousemove = function(){
	var particle,theta,force,touch,max,i,j,n;
	for(i = 0, n = demo.touches.length; i < n; i++){
		touch = demo.touches[i],max = random(1,4);
		for(j = 0; j < max; j++){
			demo.spawn(touch.x,touch.y);
		}
	}
};

//	END Particles

</script></body></html>